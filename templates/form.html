{% extends "base_template.html" %}

{% block content %}
<form method="POST" id="form" accept-charset="UTF-8">
  <label for="number">Nombre de personnes :</label>
  <input type="text" name="number" id="number" required>
  <br>
  <label for="french">Message Ã  diffuser :</label>
  <input type="text" name="french" id="french" required>
  <br>
  <button type="submit" onClick="submitForm()">Submit</button>
</form>
<script>
  function submitForm() {
    event.preventDefault();
    const formData = new FormData(document.getElementById("form"));
    fetch('/submit', {
      method: 'POST',
      body: formData
    })
      .then(response => response.json())
      .then(data => {
        alert(data.message)
      })
      .catch(error => 
      alert(error)
      )};
</script>
{% endblock %}